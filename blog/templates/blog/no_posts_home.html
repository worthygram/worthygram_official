{% load static %}

<section>
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;700&display=swap');

		* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  align-items: center;
  justify-content: center;
  background-color: #ADE5F9;
  min-height: 100vh;
}
img {
  max-width: 100%;
  display: block;
}
ul {
  list-style: none;
}

/* Utilities */
.card::after,
.card img {
  border-radius: 50%;
}
body,
.card,
.stats {
  display: flex;
}

.card {
  padding: 2.5rem 2rem;
  border-radius: 10px;
  background-color: rgba(255, 255, 255, .5);
  max-width: 500px;
  box-shadow: 0 0 30px rgba(0, 0, 0, .15);
  margin: 1rem;
  position: relative;
  transform-style: preserve-3d;
  overflow: hidden;
}
.card::before,
.card::after {
  content: '';
  position: absolute;
  z-index: -1;
}
.card::before {
  width: 100%;
  height: 100%;
  border: 1px solid #FFF;
  border-radius: 10px;
  top: -.7rem;
  left: -.7rem;
}
.card::after {
  height: 15rem;
  width: 15rem;
  background-color: #4172f5aa;
  top: -8rem;
  right: -8rem;
  box-shadow: 2rem 6rem 0 -3rem #FFF
}

.card img {
  width: 8rem;
  min-width: 80px;
  box-shadow: 0 0 0 5px #FFF;
}

.infos {
  margin-left: 1.5rem;
}

.name {
  margin-bottom: 1rem;
}
.name h2 {
  font-size: 1.3rem;
}
.name h4 {
  font-size: .8rem;
  color: #333
}

.text {
  font-size: .9rem;
  margin-bottom: 1rem;
}

.stats {
  margin-bottom: 1rem;
}
.stats li {
  min-width: 5rem;
}
.stats li h3 {
  font-size: .99rem;
}
.stats li h4 {
  font-size: .75rem;
}

.links button {
  font-family: 'Poppins', sans-serif;
  min-width: 120px;
  padding: .5rem;
  border: 1px solid #222;
  border-radius: 5px;
  font-weight: bold;
  cursor: pointer;
  transition: all .25s linear;
}
.links .follow,
.links .view:hover {
  background-color: #222;
  color: #FFF;
}
.links .view,
.links .follow:hover{
  background-color: transparent;
  color: #222;
}

@media screen and (min-width: 400px) {
  .card {
    display: block;
  }
  .infos {
    margin-left: 0;
    margin-top: 1.5rem;
  }
  .links button {
    min-width: 100px;
  }
}

	</style>
	<section  style="margin-top: 20px;">
		<h1 style="text-align: center; font-weight: bolder;">Follow Worthy Users to see the posts</h1>
	<div class="infinite-container">
	
		{% for user in users|slice:"0:20" %}
	<div class="card infinite-item">
		<div class="img">
			{% if user.profile.image %}
		  <img src="{{ user.profile.image.url }}" alt="{{user.username}}">
		  {% else %}
		  <img src="/static/blog/img/logo.png" alt="{{user.username}}">
		  {% endif %}
		</div>
		<div class="infos">
		  <div class="name">
			<h2>{{user.username}}</h2>
			<!-- <h4>@bradsteve</h4> -->
		  </div>
		  <p class="text">
			{% if user.profile.description %}
			{{user.profile.description}}
			{% else %}
			worthy users of Worthygram to share positive vibes,
			to do some exercises, listen to relaxing music and 
			so much more
			{% endif %}
		  </p>
		  <ul class="stats">
			<li>
			  <h3>{{user.profile.followers.count}}</h3>
			  <h4>Followers</h4>
			</li>
			<li>
			  <h3>{{user.profile.follows.count}}</h3>
			  <h4>Following</h4>
			</li>
		  </ul>
		  <div class="links">
			<a href="{% url 'follow-unfollow' user.id %}">
				{% if user in request.user.profile.follows.all %}
				<button type="button" class="button btn-2">Unfollow Buddy</button>
				{% else %}
				<button type="button" class="button btn-2">Follow Buddy</button>
				{% endif %}
		</a>
			<!-- <button class="follow">Follow</button> -->
			
		  </div>
		</div>
	  </div>
	 
	{% endfor %}
	
	  
	</div>
	<div class="loading" style="display: none;">
		Loading...
		<br>
	  </div>
	  {% if users.has_next %}
		<a class="infinite-more-link" style="display: none;" href="?page={{ users.next_page_number }}">More</a>
	  {% endif %} 
	 
	</div> 


	



	
	
</section>


  

